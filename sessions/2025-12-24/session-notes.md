# 学习笔记 - 2025-12-24

## 学习概述
- **日期**: 2025-12-24
- **时长**: 约 15 分钟
- **主要主题**: 薄弱点复习

---

## 薄弱点复习测试

### 复习内容
1. 幻读 vs 不可重复读
2. Spring 事务失效（内部调用）
3. 缓存一致性（Cache Aside）
4. 单例模式双重检查锁
5. 工厂模式三种区别
6. 类加载双亲委派

### 测试结果：6/6 ✅

| 题目 | 答案 | 结果 |
|------|------|------|
| 行数变多是什么问题 | 幻读 | ✅ |
| 内部调用事务能生效吗 | 不能 | ✅ |
| Cache Aside 写操作顺序 | 先更新DB再删缓存 | ✅ |
| 双重检查锁为什么要volatile | 防止重排序+可见性 | ✅ |
| 产品族用什么工厂 | 抽象工厂 | ✅ |
| 双亲委派先找谁 | 父加载器 | ✅ |

### 掌握情况
- 幻读 vs 不可重复读：已掌握 ✅
- Spring 事务失效：已掌握 ✅
- 缓存一致性：已掌握 ✅
- 单例模式：已掌握 ✅
- 工厂模式区别：已掌握 ✅
- 双亲委派：已掌握 ✅

---


## Java 基础测试

### 测试结果：6.5/7 (93%)

| 题目 | 结果 | 备注 |
|------|------|------|
| 基本数据类型 | ✅ | 8种都对 |
| int vs Integer | ✅ | 默认值、缓存池 |
| == vs equals | ✅ | 地址 vs 内容 |
| String 两种创建 | ✅ | 常量池 vs 堆 |
| final 关键字 | ✅ | 变量/方法/类 |
| break vs continue | ✅ | 跳出 vs 跳过 |
| 方法重载规则 | ⚠️ | 返回值可以不同，不是必须相同 |

### 薄弱点
- 重载只看方法签名（方法名+参数），不看返回值

---

## 面向对象测试

### 测试结果：8/9 (89%)

| 题目 | 结果 | 备注 |
|------|------|------|
| 三大特性 | ✅ | 封装、继承、多态 |
| 访问修饰符 | ⚠️ | default 和 protected 搞混 |
| 抽象类 vs 接口 | ✅ | 单继承 vs 多实现 |
| 多态输出 | ✅ | Child |
| super vs this | ✅ | 父类 vs 本类 |
| 构造方法继承重写 | ✅ | 都不可以 |
| 单继承多实现 | ✅ | 正确 |
| 静态访问非静态 | ✅ | 不可以 |
| Object 方法 | ✅ | clone/equals/toString |

### 薄弱点
- default = 本类 + 同包（没有子类）
- protected = 本类 + 同包 + 子类

---

## 集合框架测试

### 测试结果：5.5/8 (69%)

| 题目 | 结果 | 备注 |
|------|------|------|
| ArrayList vs LinkedList | ✅ | 数组 vs 链表 |
| HashMap 底层 | ✅ | 数组+链表+红黑树 |
| HashMap vs Hashtable | ✅ | 线程安全、null key |
| HashSet 去重 | ❌ | 不知道 hashCode+equals |
| HashMap null | ✅ | key 一个，value 不限 |
| ConcurrentHashMap | ❌ | 不知道 CAS+synchronized |
| ArrayList 线程安全 | ✅ | CopyOnWriteArrayList |
| Comparable vs Comparator | ⚠️ | 都是接口，一个内部一个外部 |

### 薄弱点
- HashSet 去重：hashCode() + equals()
- ConcurrentHashMap：CAS + synchronized 锁单个桶
- Comparable：类自己实现 compareTo()
- Comparator：外部传入 compare()

---

## 今日总结

**测试模块**: 薄弱点复习 + Java基础 + 面向对象 + 集合框架
**总时长**: 约 45 分钟

| 模块 | 得分 | 状态 |
|------|------|------|
| 薄弱点复习 | 6/6 (100%) | ✅ 全部掌握 |
| Java 基础 | 6.5/7 (93%) | ✅ 掌握良好 |
| 面向对象 | 8/9 (89%) | ✅ 掌握良好 |
| 集合框架 | 5.5/8 (69%) | ⚠️ 需要加强 |

**新增薄弱点**:
- 访问修饰符 default vs protected
- HashSet 去重原理
- ConcurrentHashMap 原理
- Comparable vs Comparator


## 异常处理测试

### 测试结果：4/5 (80%)

| 题目 | 结果 | 备注 |
|------|------|------|
| 异常体系 | ✅ | Throwable, Error vs Exception |
| 受检 vs 非受检异常 | ❌ | 不知道区别 |
| finally 执行 | ✅ | try 有 return 也会执行 |
| throw vs throws | ✅ | 抛出 vs 声明 |
| 空 catch 问题 | ✅ | 吞掉异常 |

### 薄弱点
- 受检异常 = 编译时必须处理（IOException）
- 非受检异常 = RuntimeException（NullPointer）

---

## Java 8+ 新特性测试

### 测试结果：3/5 (60%)

| 题目 | 结果 | 备注 |
|------|------|------|
| Lambda 语法 | ⚠️ | 思路对，语法小问题 |
| 函数式接口 | ❌ | 不知道定义 |
| map vs filter | ✅ | 转换 vs 过滤 |
| Optional | ❌ | 不知道用途 |
| Stream 计算 | ✅ | 24 正确 |

### 薄弱点
- 函数式接口 = 只有一个抽象方法
- Optional = 防止空指针，orElse() 给默认值

---

## I/O 和文件操作测试

### 测试结果：3.5/5 (70%)

| 题目 | 结果 | 备注 |
|------|------|------|
| 字节流 vs 字符流 | ✅ | 图片 vs 文本 |
| InputStream vs Reader | ✅ | 字节 vs 字符 |
| 缓冲流作用 | ⚠️ | 是减少 IO 次数，不是防堵 |
| 序列化 | ✅ | 对象转字节流 |
| try-with-resources | ⚠️ | 是自动关闭资源 |

### 薄弱点
- 缓冲流 = 减少 IO 次数，批量读写
- try-with-resources = 自动关闭资源

---

## 核心 API 测试

### 测试结果：3/6 (50%)

| 题目 | 结果 | 备注 |
|------|------|------|
| String/Builder/Buffer | ✅ | 不可变/可变/线程安全 |
| new String 创建几个对象 | ⚠️ | 1或2个，不是3个 |
| Integer 缓存 | ✅ | 127相等，128不等 |
| equals 和 hashCode | ❌ | 不知道为什么要同时重写 |
| LocalDate vs Date | ⚠️ | 不完整 |
| String.intern() | ❌ | 不知道 |

### 薄弱点
- equals 相等 → hashCode 必须相等
- LocalDate 不可变、线程安全
- intern() 放入常量池

---

## 今日总结（更新）

**测试模块**: 薄弱点复习 + Java基础 + 面向对象 + 集合框架 + 异常处理 + Java8+ + I/O + 核心API
**总时长**: 约 60 分钟

| 模块 | 得分 | 状态 |
|------|------|------|
| 薄弱点复习 | 6/6 (100%) | ✅ 全部掌握 |
| Java 基础 | 6.5/7 (93%) | ✅ 掌握良好 |
| 面向对象 | 8/9 (89%) | ✅ 掌握良好 |
| 集合框架 | 5.5/8 (69%) | ⚠️ 需要加强 |
| 异常处理 | 4/5 (80%) | ✅ 掌握良好 |
| Java 8+ | 3/5 (60%) | ⚠️ 需要加强 |
| I/O 操作 | 3.5/5 (70%) | ⚠️ 需要加强 |
| 核心 API | 3/6 (50%) | ⚠️ 需要加强 |

**新增薄弱点**:
- 受检 vs 非受检异常
- 函数式接口定义
- Optional 用法
- 缓冲流作用
- try-with-resources
- equals 和 hashCode 关系
- String.intern()


---

## 薄弱点快速复习

### 测试结果：4.5/6 (75%)

| 题目 | 结果 | 备注 |
|------|------|------|
| 受检/非受检异常 | ✅ | RuntimeException 非受检 |
| 函数式接口 | ❌ | 还是不知道 |
| Optional.orElse | ✅ | 为空返回默认值 |
| 缓冲流作用 | ✅ | 减少 IO 次数 |
| equals 和 hashCode | ⚠️ | HashMap 先用 hashCode 定位 |
| new String 对象数 | ✅ | 最多 2 个 |

---

## 综合实战测试

### 测试结果：2.5/5 (50%)

| 题目 | 结果 | 备注 |
|------|------|------|
| HashSet 问题 | ❌ | 没重写 hashCode，输出 2 |
| String 不可变原因 | ✅ | 安全性 |
| String == 比较 | ⚠️ | 编译期优化 true，运行时 false |
| ArrayList 扩容 | ⚠️ | 初始 10，扩容 1.5 倍 |
| LinkedList 场景 | ✅ | 频繁增删 |

---

## 进阶模块复习

### 测试结果：4.5/6 (75%)

| 题目 | 结果 | 备注 |
|------|------|------|
| 缓存三兄弟 | ✅ | 穿透/击穿/雪崩 |
| 事务失效 | ✅ | 内部调用不走代理 |
| Cache Aside | ⚠️ | 是先更新 DB 再删缓存 |
| volatile | ✅ | 可见性 + 防重排 |
| 幻读 vs 不可重复读 | ✅ | 行数变 vs 数据改 |
| MQ 三大作用 | ⚠️ | 异步、削峰、解耦 |

---

## 深入测试

### 测试结果：2.5/6 (42%)

| 题目 | 结果 | 备注 |
|------|------|------|
| ThreadLocal | ⚠️ | 线程本地变量，用完要 remove |
| synchronized | ⚠️ | 锁方法=锁this，锁代码块=锁对象 |
| MVCC | ⚠️ | 多版本并发控制，读不加锁 |
| Bean 作用域 | ⚠️ | 默认 singleton |
| @Autowired vs @Resource | ✅ | 按类型 vs 按名称 |
| ZSet 底层 | ⚠️ | 跳表 + 哈希表 |

### 新增薄弱点
- ThreadLocal：线程本地变量，用完要 remove()
- synchronized：锁方法=锁this，锁代码块=锁指定对象
- MVCC：多版本并发控制，读不加锁
- Bean 作用域：默认 singleton
- ZSet：跳表 + 哈希表
- ArrayList：初始 10，扩容 1.5 倍
- 函数式接口：只有一个抽象方法


---

## 进阶测试 2

### 测试结果：2.5/6 (42%)

| 题目 | 结果 | 备注 |
|------|------|------|
| HashMap JDK7 vs JDK8 | ⚠️ | JDK8 加了红黑树，尾插法 |
| AQS | ❌ | 并发框架基础，state + CLH 队列 |
| 循环依赖 | ✅ | 三级缓存 |
| Kafka vs RabbitMQ | ⚠️ | 吞吐量 vs 功能丰富 |
| SPI | ❌ | 服务发现机制 |
| 索引失效 | ✅ | 最左前缀、NULL、函数等 |

---

## 场景实战题

### 测试结果：2.5/5 (50%)

| 题目 | 结果 | 备注 |
|------|------|------|
| CPU 100% 排查 | ⚠️ | top → jstack → 看堆栈 |
| 接口慢排查 | ✅ | 慢 SQL、网络、锁 |
| 连接池满 | ⚠️ | 慢 SQL、事务泄漏 |
| 幂等性 | ⚠️ | 唯一 ID + 去重表 |
| 防超卖 | ✅ | 加锁 |

---

## 快速抢答

### 测试结果：7.5/10 (75%)

| 题目 | 结果 |
|------|------|
| ArrayList 初始/扩容 | ✅ 10, 1.5 |
| 函数式接口 | ✅ 终于记住了！ |
| ThreadLocal | ✅ remove |
| Bean 作用域 | ✅ singleton |
| HashMap JDK8 | ✅ 红黑树 |
| MQ 三大作用 | ✅ 异步削峰解耦 |
| MVCC | ✅ 数据库并发 |
| synchronized | ❌ 是 this |
| ZSet | ⚠️ 跳表 + 哈希表 |
| 幂等性 | ⚠️ 唯一 ID + 去重表 |

---

## 今日最终总结

**学习时长**: 约 90 分钟

**测试统计**:
| 测试 | 得分 |
|------|------|
| 薄弱点复习 | 6/6 (100%) |
| Java 基础 | 6.5/7 (93%) |
| 面向对象 | 8/9 (89%) |
| 集合框架 | 5.5/8 (69%) |
| 异常处理 | 4/5 (80%) |
| Java 8+ | 3/5 (60%) |
| I/O 操作 | 3.5/5 (70%) |
| 核心 API | 3/6 (50%) |
| 薄弱点快速复习 | 4.5/6 (75%) |
| 综合实战 | 2.5/5 (50%) |
| 进阶复习 | 4.5/6 (75%) |
| 深入测试 | 2.5/6 (42%) |
| 进阶测试 2 | 2.5/6 (42%) |
| 场景实战 | 2.5/5 (50%) |
| 快速抢答 | 7.5/10 (75%) |

**今日收获**:
- Java 基础部分基本掌握
- 昨天的薄弱点大部分已巩固
- 函数式接口终于记住了！
- 学习了幂等性的具体实现方案

**仍需加强**:
- synchronized 锁的是 this
- ZSet = 跳表 + 哈希表
- AQS 原理
- 场景排查思路
